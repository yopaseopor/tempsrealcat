<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bus AMB - √Ärea Metropolitana de Barcelona Bus Stops</title>
    <script src="assets/js/busamb.functions.js"></script>
</head>
<body>
    <!--BUSAMB-->
    <div class="sidebar-pane" id="busamb">
      <div class="close-button"><span class="fa fa-close" onclick="javascript: sidebar.close()"></span>
      </div>
      <h1 data-i18n="busamb_title">üöå Autob√∫s AMB</h1>
      <p style="text-align:justify; margin-right:5px;" data-i18n="busamb_description">Visualitza totes les parades d'autob√∫s de l'√Ärea Metropolitana de Barcelona (AMB). Les dades provenen de fonts oficials de l'AMB.</p>

      <!-- Bus AMB stops controls -->
      <div style="margin-bottom: 15px;">
        <h3 style="margin-bottom: 10px; color: #333;" data-i18n="busamb_stops_visualization">üìç Visualitzaci√≥ de parades</h3>
        <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 10px;">
          <button id="start-amb-stops-btn" onclick="startAMBStops()" style="background:#2a2a2a; color:white; padding:10px 15px; border:none; border-radius:5px; cursor:pointer; font-size: 14px;">
            <i class="fa fa-play"></i> <span data-i18n="busamb_start_stops">Mostrar parades</span>
          </button>
          <button id="stop-amb-stops-btn" onclick="stopAMBStops()" style="background:#cc0000; color:white; padding:10px 15px; border:none; border-radius:5px; cursor:pointer; font-size: 14px; display: none;">
            <i class="fa fa-stop"></i> <span data-i18n="busamb_stop_stops">Amagar parades</span>
          </button>
        </div>
      </div>

      <!-- Bus AMB timetable controls -->
      <div style="margin-bottom: 15px;">
        <h3 style="margin-bottom: 10px; color: #333;" data-i18n="busamb_schedules_title">üìã Horaris d'autobusos</h3>
        <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 10px;">
          <button onclick="showAMBStandaloneTimetable()" style="background:#28a745; color:white; padding:10px 15px; border:none; border-radius:5px; cursor:pointer; font-size: 14px;">
            <i class="fa fa-table"></i> <span data-i18n="busamb_view_full_schedule">Veure horari complet</span>
          </button>
          <button onclick="updateAMBData()" id="update-amb-data-btn" style="background:#17a2b8; color:white; padding:10px 15px; border:none; border-radius:5px; cursor:pointer; font-size: 14px;">
            <i class="fa fa-refresh"></i> <span data-i18n="busamb_update_data">Actualitzar dades</span>
          </button>
        </div>
      </div>

      <!-- Status display -->
      <div id="amb-stops-status" style="background: #f8f9fa; padding: 10px; border-radius: 5px; margin-bottom: 15px; border: 1px solid #ddd;">
        <span data-i18n="busamb_status">Status:</span> <span data-i18n="busamb_status_inactive">Inactiu</span>
      </div>

      <!-- Instructions -->
      <div style="background: #e8f4f8; padding: 15px; border-radius: 5px; margin-bottom: 15px; border: 1px solid #b8daff;">
        <h4 style="margin-top: 0; color: #004085;" data-i18n="busamb_how_it_works">üìñ Com funciona</h4>
        <ol style="font-size: 13px; color: #004085; margin: 0; padding-left: 20px;">
          <li data-i18n="busamb_step1">Mostrar parades: Prem "Mostrar parades" per carregar totes les parades d'autob√∫s AMB al mapa</li>
          <li data-i18n="busamb_step2">Visualitza al mapa: Les parades apareixeran com marcadors amb icones de bus</li>
          <li data-i18n="busamb_step3">Clica als marcadors: Obt√© informaci√≥ detallada sobre cada parada</li>
          <li data-i18n="busamb_step4">Amagar quan vulguis: Prem "Amagar parades" per netejar el mapa</li>
        </ol>
      </div>

      <!-- Coverage info -->
      <div style="background: #fff3cd; padding: 10px; border-radius: 3px; border: 1px solid #ffeaa7; font-size: 12px;">
        <strong data-i18n="busamb_coverage">‚ÑπÔ∏è Cobertura:</strong> Aquest servei mostra les parades d'autob√∫s de l'√Ärea Metropolitana de Barcelona (AMB). Les dades inclouen informaci√≥ sobre les l√≠nies i horaris dels autobusos metropolitans.
      </div>

      <br><hr width="90%">

      <!-- Full Timetable Section -->
      <div id="amb-full-timetable" style="display: none; margin-top: 15px;">
        <h3 style="color: #333;"><i class="fa fa-calendar"></i> <span data-i18n="busamb_full_timetable_title">Horari complet de la parada</span></h3>
        <div id="amb-timetable-content" style="background: #f8f9fa; border: 1px solid #ddd; border-radius: 4px; padding: 15px; max-height: 400px; overflow-y: auto;">
          <!-- Full timetable will be loaded here -->
        </div>
        <div style="text-align: center; margin-top: 10px;">
          <button onclick="hideAMBFullTimetable()" style="background: #6c757d; color: white; border: none; padding: 8px 15px; border-radius: 3px; cursor: pointer;">
            <i class="fa fa-times"></i> <span data-i18n="busamb_close_full_timetable">Tancar horari complet</span>
          </button>
        </div>
      </div>

      <!-- Standalone Timetable Viewer -->
      <div id="amb-standalone-timetable" style="display: none; margin-top: 15px;">
        <h3 style="color: #333;"><i class="fa fa-table"></i> <span data-i18n="busamb_standalone_timetable_title">Horaris de totes les parades AMB</span></h3>
        <div id="amb-standalone-content" style="background: #f8f9fa; border: 1px solid #ddd; border-radius: 4px; padding: 15px; max-height: 600px; overflow-y: auto;">
          <!-- Standalone timetable will be loaded here -->
        </div>
        <div style="text-align: center; margin-top: 10px;">
          <button onclick="hideAMBStandaloneTimetable()" style="background: #6c757d; color: white; border: none; padding: 8px 15px; border-radius: 3px; cursor: pointer;">
            <i class="fa fa-times"></i> <span data-i18n="busamb_close_standalone_timetable">Tancar horari general</span>
          </button>
        </div>
      </div>

      <!-- Help section -->
      <h3 style="color: #333;" data-i18n="busamb_help_title"><i class="fa fa-question-circle"></i> Ajuda</h3>
      <p style="text-align:justify; margin-right:5px; font-size: 13px;" data-i18n="busamb_help_text">
        Aquest panell et permet visualitzar les parades d'autob√∫s de l'√Ärea Metropolitana de Barcelona (AMB). Les dades provenen de fonts oficials de l'AMB i inclouen informaci√≥ sobre les l√≠nies d'autob√∫s metropolitans.
      </p>
    </div>
</body>
</html>
